<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CapybaraComments - Home</title>
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Capybara Downloader - Download youtube videos and audios and etc." />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon_io/favicon-16x16.png">
    <link rel="manifest" href="favicon_io/site.webmanifest">

    <style nonce="<%= nonce %>">
        
        @import url('https://fonts.googleapis.com/css2?family=Leckerli+One&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@700&family=Jua&display=swap');

        :root {
            --var1: -220px;
        }

        body {
            overflow-x: hidden;
            background-color: #1E1E1E;
        }

        .logo {

            padding: 10px 0px 10px 35px;
            color: #FFF;
            font-family: "Leckerli One";
            font-size: 20px;
            font-style: normal;
            font-weight: 400;
        }

        .authBtn {

            display: flex;
            justify-content: end;
            align-items: center;
            padding: 0px 35px 0px 0px;
            gap: 25px;
        }

        .authBtn a {
            text-decoration: none;
            color: #EC9C00;
            font-family: Jua;
            font-size: 16px;
            font-style: normal;
            font-weight: 400;
            padding: 10px;
        }

        .authBtn a:hover {

            color: white;
        }

        .section {
            height: 90vh;
        }

        .sec-image {

            display: flex;
            justify-content: center;
            align-items: center;

        }

        .image-container {

            background-repeat: no-repeat;
            background-size: contain;
            background-position: center;
            height: 70%;
            width: 70%;
        }

        .image1{
            background-image: url('/images/capys.png');
        }

        .image2{
            background-image: url('/images/capybaraOrange.png');
        }

        .image3{
            background-image: url('/images/capybaraOrange2.png');
        }

        .sec-text {

            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: start;
        }

        .max-width {
            max-width: 500px;
        }

        .sec-text-head {
            color: #FFF;
            font-family: Inter;
            font-size: 32px;
            font-style: normal;
            font-weight: 700;
        }

        .sec-text-para {
            color: #FFF;
            font-family: Inter;
            font-size: 16px;
            font-style: normal;
            font-weight: 700;
        }

        .sec-text-btn {
            padding-top: 15px;
        }

        .sec-text-btn button {
            border-radius: 50px;
            background-color: #EC9C00;
            width: 200px;
            padding: 10px;
            font-size: xx-large;
            color: black;
            border: 3px solid black;
            box-shadow: 5px 5px 0px 1px #EC9C00;
            font-family: 'Jua';
        }

        .sec-text-btn button:active {
            transform: translateY(10px) translateX(10px);
            box-shadow: 0px 0px 0px 0px #EC9C00;
        }

        .footer-inner-container {
            width: 100vw;
            height: 100vh;
            background: #EC9C00;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            display: flex
        }

        .news-latter-form {
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 30px;
            display: flex;
            flex: 70%;
        }

        .news-latter-form-head {
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 5px;
            display: flex
        }

        .news-latter-form-head-heading {
            text-align: center;
            color: black;
            font-size: 32px;
            font-family: Jua;
            font-weight: 400;
            word-wrap: break-word
        }

        .news-latter-form-head-para {
            text-align: center;
            color: white;
            font-size: 24px;
            font-family: Jua;
            font-weight: 400;
            word-wrap: break-word
        }


        .news-latter-form-input {
            width: 640px;
            height: 54px;
            background: #D9D9D9;
            box-shadow: 0px 0px 0px 4px black;
            border: 4px #EC9C00 solid;
            font-size: x-large;
            text-align: center;
        }

        .news-latter-form-massage {
            text-align: center;
            color: black;
            font-size: 16px;
            font-family: Inter;
            font-weight: 500;
            word-wrap: break-word
        }

        .news-latter-form-btn {
            position: relative;
            padding-left: 41px;
            padding-right: 41px;
            padding-top: 11px;
            padding-bottom: 11px;
            background: white;
            box-shadow: 4px 5px 0px 1px black;
            border-radius: 30px;
            border: 2px black solid;
            color: black;
            font-size: 32px;
            font-family: Jua;
            font-weight: 400;
            word-wrap: break-word;
            overflow: hidden;
        }

        .news-latter-form-btn::after {
            display: flex;
            align-items: center;
            text-align: center;
            justify-content: center;
            content: 'Subscribe';
            color: orange;
            font-size: 32px;
            font-family: Jua;
            font-weight: 400;
            border: 2px orange solid;
            transition: all .1s ease;
            border-radius: 30px;
            position: absolute;
            top: 0px;
            left: var(--var1);
            width: 100%;
            height: 100%;
            background-color: rgb(0, 0, 0);
            overflow: hidden;
        }

        .news-latter-form-btn:active {
            transform: translateY(10px) translateX(10px);
            box-shadow: 0px 0px 0px 0px black;
        }

        .news-latter-links {
            width: 100%;
            height: 100%;
            background: black;
            justify-content: center;
            align-items: center;
            gap: 70px;
            display: flex;
            flex: 30%
        }

        .news-latter-links-container {
            justify-content: center;
            align-items: center;
            gap: 86px;
            display: flex;
        }

        .links-col {
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            gap: 10px;
            display: inline-flex;
        }

        .links-row-heading {
            color: orange;
            font-size: 20px;
            font-family: Inter;
            font-weight: 500;
            word-wrap: break-word
        }

        .links {
            color: white;
            font-size: 16px;
            font-family: Inter;
            font-weight: 500;
            word-wrap: break-word;
            text-decoration: none;
        }

        .links:hover {
            color: rgb(252, 215, 142) !important;
        }

        .message-pop {
            position: fixed;
            z-index: 1000;
            background-color: orange;
            min-width: 300px;
            top: 0%;
            left: 50%;
            transform: translate(-50%, 10%);
            padding: 10px;
            padding-top: 0%;
            border: 5px solid #000000;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .cross-btn {
            font-size: large;
            background-color: red;
            font-weight: 900;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
        }

        .cross-btn-container {
            width: 100%;
            display: flex;
            justify-content: end;
            align-items: end;
        }

        .message-pop .message {
            color: black;
            font-size: medium;
            word-wrap: break-word;
        }

        .message-pop-inner-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            gap: 2px;
            color: black;
            font-size: x-large;
        }

        .dis-none {
            display: none !important;
        }
    </style>
</head>

<body>
    <header>
        <nav class="row">
            <div class="logo col">Capybara</div>

            <div class="authBtn col-5">
                <a href="/login">Login</a>
                <a href="/signup">Signup</a>
            </div>
        </nav>
    </header>

    <main>
        <div class="container">
            <section class="section row">
                <div class="sec-image col">
                    <div class="image-container image1">
                        &nbsp;
                    </div>
                </div>

                <div class="sec-text col">
                    <div class="sec-text-head max-width">
                        <h2>Comprehensive YouTube Video Downloader</h2>
                    </div>

                    <div class="sec-text-para max-width">
                        <p>The Capybara extension provides robust support for all major browsers. With our tool, you can
                            seamlessly download videos with audio or opt for audio-only downloads. Choose from the
                            highest-quality MP4 or WebP formats for video downloads, and MP4 for audio files.</p>
                    </div>

                    <div class="sec-text-btn">
                        <button id="signup-btn">Sign Up</button>
                    </div>
                </div>

            </section>

            <section class="section row">
                <div class="sec-text col align-items-end">
                    <div class="sec-text-head max-width">
                        <h2>Unlock the Power of Capybara Extension - Now Available for Free</h2>
                    </div>

                    <div class="sec-text-para max-width">
                        <p>Experience the freedom of Capybara extension, accessible to all users at no cost. Our
                            extension requires an access token, which you can obtain from our official website. Rest
                            assured, you'll have complete visibility into who is utilizing your token.</p>
                    </div>

                    <div class="sec-text-btn"><button id="download-btn">Download</button></div>
                </div>

                <div class="sec-image col">
                    <div class="image-container image2">
                        &nbsp;
                    </div>
                </div>
            </section>

            <section class="section row">

                <div class="sec-image col">
                    <div class="image-container image3">
                        &nbsp;
                    </div>
                </div>

                <div class="sec-text col">
                    <div class="sec-text-head max-width">
                        <h2>Unfamiliar with the Usage? Fear Not, We've Got You Covered</h2>
                    </div>

                    <div class="sec-text-para max-width">
                        Simply click on the "About" button to access our user-friendly documentation. Discover how to
                        utilize this extension effortlessly - it's designed for seamless navigation.</p>
                    </div>

                    <div class="sec-text-btn"><button id="about-btn">About</button></div>
                </div>
            </section>

        </div>
    </main>

    <footer class="footer">
        <div class="footer-inner-container">
            <form action="" class="news-latter-form">
                <div class="news-latter-form-head">
                    <div class="news-latter-form-head-heading">SUBSCRIBE</div>
                    <div class="news-latter-form-head-para">To our news latter</div>
                </div>

                <input type="email" class="news-latter-form-input" required>

                <div class="news-latter-form-massage">
                    We’ll notify you first whenever we do any changes in our application or extension. <br />To stay
                    updated please subscribe to our news latter.<br />You can unsubscribe it anytime
                </div>

                <button class="news-latter-form-btn" type="submit">
                    Subscribe
                </button>
            </form>
            <div class="news-latter-links">
                <div class="news-latter-links-container">
                    <div class="links-col">
                        <div class="links-row-heading">About Me</div>
                        <a href="https://github.com/HarshGaur387R" class="links" target="_blank">Github</a>
                        <a href="https://www.linkedin.com/in/harsh-gaur-a0b525217/" class="links" target="_blank">LinkedIn</a>
                        <a href="#" class="links">Portfolio</a>
                    </div>
                    <div class="links-col">
                        <div class="links-row-heading">Follow</div>
                        <a href="https://www.instagram.com/heerokuun/" class="links" target="_blank">Instagram</a>
                        <a href="https://www.facebook.com/profile.php?id=61556928359874" class="links" target="_blank">Facebook</a>
                        <a href="https://twitter.com/hgaur701" class="links">Twitter</a>
                    </div>
                    <div class="links-col">
                        <div class="links-row-heading">Ask Support</div>
                        <a href="mailto:capybaramailservice@gmail.com" class="links" target="_blank">Gmail</a>
                        <a href="https://discord.gg/wGE5afya" class="links" target="_blank">Discord</a>
                        <a href="#" class="links">Whats's App</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <div class="message-pop dis-none">
        <div class="cross-btn-container">
            <button type="button" class="cross-btn">✗</button>
        </div>
        <div class="message-pop-inner-container">
            <div class="head">Uh oh!</div>
            <div class="message"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

    <script nonce="<%= nonce %>">

        const hostURL = 'http://localhost:5000'

        const message_pop = document.querySelector('.message-pop');
        const cross_btn = document.querySelector('.cross-btn');

        if (cross_btn) {
            cross_btn.addEventListener('click', (e) => {
                if (message_pop) { message_pop.classList.add('dis-none') }
            });
        }

        function show_message_pop(bool, msg = '') {
            if (bool) {
                message_pop.classList.remove('dis-none');
                const message = document.querySelector('.message');
                message.textContent = msg;
            }
            else {
                message_pop.classList.add('dis-none');
            }
        }

        const news_latter_form_btn = document.querySelector('.news-latter-form-btn');
        if (news_latter_form_btn) {

            news_latter_form_btn.addEventListener('mouseenter', (e) => {
                const root = document.querySelector(':root');
                root.style.setProperty('--var1', '0px');
            })

            news_latter_form_btn.addEventListener('mouseleave', (e) => {
                const root = document.querySelector(':root');
                root.style.setProperty('--var1', '-220px');
            })

            if (window.PointerEvent) {

                news_latter_form_btn.addEventListener('pointerdown', (e) => {

                    news_latter_form_btn.style.color = 'orange'
                })

                news_latter_form_btn.addEventListener('pointerup', (e) => {
                    news_latter_form_btn.style.color = 'black'
                })
            }

        }

        const signup_btn = document.getElementById('signup-btn');
        if (signup_btn) {
            signup_btn.addEventListener('click', (e) => {
                window.location.href = "/signup";
            });
        }

        const download_btn = document.getElementById('download-btn');
        if(download_btn){
            download_btn.addEventListener('click',(e)=>{
                const a_tag = document.createElement('a');
                a_tag.href = '/capybara-extension.zip';
                a_tag.download = 'capybara-extension.zip';
                a_tag.click();
            })
        }

        const about_btn = document.getElementById('about-btn');
        if (about_btn) {
            about_btn.addEventListener('click', (e) => {
                window.location.href = '/about';
            })
        }

        const news_latter_form = document.querySelector('.news-latter-form');

        if (news_latter_form) {
            news_latter_form.addEventListener('submit', async (e) => {
                e.preventDefault();

                const email = document.querySelector('.news-latter-form-input').value;
                await subscribeToNewsLatter(email);
            })
        }

        async function subscribeToNewsLatter(email) {
            if (!email) {
                show_message_pop(true, 'Email is not provided. Please enter your Email');
                return;
            }

            try {
                const parameter = {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        "email": email,
                    })
                }

                await fetch(`${hostURL}/api/v1/auth/subscribeToNewsLatter`, parameter)
                    .then((res) => res.json())
                    .then((res) => {
                        if (res.error) {
                            if (res.error.constructor === Array) {
                                show_message_pop(true, res.error[0].msg);
                                return;
                            }
                            else {
                                show_message_pop(true, res.error.msg);
                                return;
                            }
                        }

                        const message_head = document.querySelector('.head');
                        if (message_head) {
                            message_head.textContent = 'Subscribed!';
                        }
                        show_message_pop(true, 'Thank you for subscribing our news latter');

                    }).catch((error) => {
                        show_message_pop(true, 'Error on reading response from server.');
                        console.log('News Latter:', error);
                    })

            } catch (error) {
                show_message_pop(true, 'Error on sending request for News Latter.');
                console.log('NewsLatter:', error);
            }
        }

    </script>
</body>

</html>