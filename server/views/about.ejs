<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CapybaraComments - About</title>
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Capybara Downloader - Download youtube videos and audios and etc." />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon_io/favicon-16x16.png">
    <link rel="manifest" href="favicon_io/site.webmanifest">

    <style nonce="<%= nonce %>">
        @import url('https://fonts.googleapis.com/css2?family=Leckerli+One&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@700&family=Jua&display=swap');

        :root {
            --var1: -220px;
        }

        body {
            overflow-x: hidden;
            background-color: #1E1E1E;
        }

        .logo {
            padding: 10px 0px 10px 35px;
            color: #FFF;
            font-family: "Leckerli One";
            font-size: x-large;
            font-style: normal;
            font-weight: 400;
            text-align: center;
            background-color: orange;
        }

        .container {
            gap: 20px;
        }

        section {
            color: white;
            /* background-color: red; */
            width: 500px;
            text-align: start;
        }

        section h1 {
            color: orange;
        }

        .links-col {
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            gap: 10px;
            display: inline-flex;
        }

        .links-row-heading {
            color: orange;
            font-size: 20px;
            font-family: Inter;
            font-weight: 500;
            word-wrap: break-word
        }

        .links {
            color: white;
            font-size: 16px;
            font-family: Inter;
            font-weight: 500;
            word-wrap: break-word;
            text-decoration: none;
        }

        .links:hover {
            color: rgb(252, 215, 142) !important;
        }

        .message-pop {
            position: fixed;
            z-index: 1000;
            background-color: orange;
            width: 300px;
            top: 0%;
            left: 50%;
            transform: translate(-50%, 10%);
            padding: 10px;
            padding-top: 0%;
            border: 5px solid #000000;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .cross-btn {
            font-size: large;
            background-color: red;
            font-weight: 900;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
        }

        .cross-btn-container {
            width: 100%;
            display: flex;
            justify-content: end;
            align-items: end;
        }

        .message-pop .message {
            color: black;
            font-size: medium;
            word-wrap: break-word;
        }

        .message-pop-inner-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            gap: 2px;
            color: black;
            font-size: x-large;
        }

        .dis-none {
            display: none !important;
        }

        table {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }

        td,
        th {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }

        th {
            color: orange;
        }
    </style>
</head>

<body>
    <header>
        <nav class="row">
            <div class="logo col">Capybara</div>
        </nav>
    </header>

    <main>
        <div class="container d-flex align-items-center justify-content-center flex-column p-5">
            <section>
                <h1>About Capybara Extension</h1>
                <p>The Capybara Extension is a powerful browser extension that enhances your YouTube
                    experience. With this handy tool, you can effortlessly download both video and audio content from
                    YouTube. Hereâ€™s what it offers:
                <ol>
                    <li>
                        Download Media
                    </li>
                    <li>
                        Get Video Info
                    </li>
                </ol>
                </p>
            </section>

            <section>
                <h1>How to use it?</h1>
                <p>Watch this easy tutorial video to learn.
                </p>
                <video src="/videos/how-to-download-capybara-extension - Made with Clipchamp.mp4" width="500px"
                    controls>Your Browser does not support video</video>
            </section>

            <section>
                <h1>Supporting formats</h1>
                <p>
                <table>
                    <tr>
                        <th>Format</th>
                        <th>Quality</th>
                    </tr>
                    <tr>
                        <td>Mp4</td>
                        <td>340p, 720p</td>
                    </tr>
                    <tr>
                        <td>Webp</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>Mp3</td>
                        <td></td>
                    </tr>
                </table>
                </p>
            </section>

            <section>
                <h1>Our future plans</h1>
                <p>We are currently working on the use of A.I. in "Capybara Extension". In the future, you will be able
                    to generate comments for YouTube videos by using the Capybara extension. And you will also be able
                    to generate the memarization of YouTube videos. So if you want to take advantage of this facility,
                    then definitely subscribe to our newsletter. If you have already created an account then you do not
                    need to subscribe. The first 10 subscribers will be able to send 12 requests for free.
                </p>
            </section>

            <section>
                <h1>Support my work</h1>
                <p>If you like my work. Please do support me. Right now all you can do is follow me on social media
                    platforms.
                </p>
            </section>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

    <script nonce="<%= nonce %>">

        const hostURL = 'http://localhost:5000'

        const message_pop = document.querySelector('.message-pop');
        const cross_btn = document.querySelector('.cross-btn');

        if (cross_btn) {
            cross_btn.addEventListener('click', (e) => {
                if (message_pop) { message_pop.classList.add('dis-none') }
            });
        }

        function show_message_pop(bool, msg = '') {
            if (bool) {
                message_pop.classList.remove('dis-none');
                const message = document.querySelector('.message');
                message.textContent = msg;
            }
            else {
                message_pop.classList.add('dis-none');
            }
        }

        const news_latter_form_btn = document.querySelector('.news-latter-form-btn');
        if (news_latter_form_btn) {

            news_latter_form_btn.addEventListener('mouseenter', (e) => {
                const root = document.querySelector(':root');
                root.style.setProperty('--var1', '0px');
            })

            news_latter_form_btn.addEventListener('mouseleave', (e) => {
                const root = document.querySelector(':root');
                root.style.setProperty('--var1', '-220px');
            })

            if (window.PointerEvent) {

                news_latter_form_btn.addEventListener('pointerdown', (e) => {

                    news_latter_form_btn.style.color = 'orange'
                })

                news_latter_form_btn.addEventListener('pointerup', (e) => {
                    news_latter_form_btn.style.color = 'black'
                })
            }

        }

        const signup_btn = document.getElementById('signup-btn');
        if (signup_btn) {
            signup_btn.addEventListener('click', (e) => {
                window.location.href = "/signup";
            });
        }


        const about_btn = document.getElementById('about-btn');
        if (about_btn) {
            about_btn.addEventListener('click', (e) => {
                window.location.href = '/about';
            })
        }

        const news_latter_form = document.querySelector('.news-latter-form');

        if (news_latter_form) {
            news_latter_form.addEventListener('submit', async (e) => {
                e.preventDefault();

                const email = document.querySelector('.news-latter-form-input').value;
                await subscribeToNewsLatter(email);
            })
        }

        async function subscribeToNewsLatter(email) {
            if (!email) {
                show_message_pop(true, 'Email is not provided. Please enter your Email');
                return;
            }

            try {
                const parameter = {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        "email": email,
                    })
                }

                await fetch(`${hostURL}/api/v1/auth/subscribeToNewsLatter`, parameter)
                    .then((res) => res.json())
                    .then((res) => {
                        if (res.error) {
                            if (res.error.constructor === Array) {
                                show_message_pop(true, res.error[0].msg);
                                return;
                            }
                            else {
                                show_message_pop(true, res.error.msg);
                                return;
                            }
                        }

                        const message_head = document.querySelector('.head');
                        if (message_head) {
                            message_head.textContent = 'Subscribed!';
                        }
                        show_message_pop(true, 'Thank you for subscribing our news latter');

                    }).catch((error) => {
                        show_message_pop(true, 'Error on reading response from server.');
                        console.log('News Latter:', error);
                    })

            } catch (error) {
                show_message_pop(true, 'Error on sending request for News Latter.');
                console.log('NewsLatter:', error);
            }
        }

    </script>
</body>

</html>